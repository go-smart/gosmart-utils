%% Process_Results
%
% This function will process the results of running the computational
% experiments generated by Generate_Experiment.
%
% args:
%   A = cell array of experiment designs - each k+1 x k array where k is
%     the number of model parameters
%   r = cell array of responses - each k+1 vector

function [mn sd] = Process_Results(A,r)

%   cycle through experiments and compute main effect
    for i=1:length(A)
        EE = (diff(r{i})'*ones(1,length(diff(r{i})))./diff(A{i}))
        ME{i} = EE(isfinite(EE));
    end
    
%   compute statistics
    num = ME{1}*0;
    for i=1:length(ME)
        num = num+ME{i};
    end
    mn = num/length(ME);
    num = ME{1}*0;
    for i=1:length(ME)
        num = num+(mn-ME{i}).^2;
    end
    sd = sqrt(num/length(ME));

end